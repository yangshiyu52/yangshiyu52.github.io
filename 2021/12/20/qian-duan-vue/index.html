<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="vue, Healer">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>vue | Healer</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 6.2.0"><link rel="alternate" href="/atom.xml" title="Healer" type="application/atom+xml">
</head>



   <style>
    body{
       background-image: url(https://ysy-java.oss-cn-hangzhou.aliyuncs.com/girl.jpg);
       background-repeat:no-repeat;
       background-size:cover;
       background-attachment:fixed;
    }
</style>



<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Healer</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Healer</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        
    </ul>
</div>


        </div>

        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/6.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">vue</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                          <div class="article-tag">
                            <span class="chip bg-color">无标签</span>
                          </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/%E5%89%8D%E7%AB%AF/" class="post-category">
                                前端
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2021-12-20
                </div>
                

                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    12.7k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    56 分
                </div>
                

                
            </div>
        </div>
        <hr class="clearfix">

        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="1-库和框架的区别"><a href="#1-库和框架的区别" class="headerlink" title="1. 库和框架的区别"></a>1. 库和框架的区别</h1><blockquote>
<p> 库: 本质上是一些函数的集合。每次调用函数，实现一个特定的功能，接着把<code>控制权</code>交给使用者(程序猿) </p>
</blockquote>
<ul>
<li>代表：jQuery  axios</li>
<li>jQuery这个库的核心：DOM操作+对ajax的封装，即：封装DOM操作，简化DOM操作</li>
<li>axios: 封装了对ajax的操作</li>
</ul>
<blockquote>
<p>框架:  是一套完整的解决方案，使用框架的时候，需要把你的代码放到框架合适的地方，框架会在合适的时机调用你的代码 </p>
</blockquote>
<ul>
<li>框架规定了自己的编程方式，是一套完整的解决方案</li>
<li>使用框架的时候，由框架控制一切，我们只需要按照规则写代码</li>
</ul>
<blockquote>
<p>库和框架的区别</p>
</blockquote>
<p><code>You</code> call Library, <code>Framework</code> calls you</p>
<p>核心点：谁起到主导作用（控制反转） </p>
<ul>
<li><p>控制整个流程的是框架</p>
</li>
<li><p>使用库，由开发人员决定如何调用库中提供的方法（辅助）</p>
</li>
<li><p>框架的侵入性很高（从头到尾）</p>
</li>
</ul>
<hr>
<h1 id="2-目前主流的前端框架"><a href="#2-目前主流的前端框架" class="headerlink" title="2. 目前主流的前端框架"></a>2. 目前主流的前端框架</h1><ul>
<li><p>angular(前两三年非常火)</p>
</li>
<li><p>react(目前特别火的框架)—&gt;国外使用较多</p>
</li>
<li><p>Vue(中国人自己写的框架 <code>尤雨溪</code>) <a target="_blank" rel="noopener" href="https://cn.vuejs.org/">https://cn.vuejs.org/</a></p>
</li>
</ul>
<blockquote>
<p>Vue的版本:</p>
<p>2.x: 使用较多的版本</p>
<p>3.x: 还不太稳定的版本</p>
</blockquote>
<hr>
<h1 id="3-MVVM的介绍"><a href="#3-MVVM的介绍" class="headerlink" title="3. MVVM的介绍"></a>3. MVVM的介绍</h1><ul>
<li><p>MVVM，一种更好的UI模式解决方案 </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://links.jianshu.com/go?to=http://www.cnblogs.com/indream/p/3602348.html">从Script到Code Blocks、Code Behind到MVC、MVP、MVVM - 科普</a></p>
</li>
</ul>
<p><img src="https://ysy-java.oss-cn-hangzhou.aliyuncs.com/image-20211220192211484.png" alt="image-20211220192211484"></p>
<h1 id="4-MVC与MVVM"><a href="#4-MVC与MVVM" class="headerlink" title="4. MVC与MVVM"></a>4. MVC与MVVM</h1><h2 id="4-1-mvc"><a href="#4-1-mvc" class="headerlink" title="4.1 mvc"></a>4.1 mvc</h2><ul>
<li>M:  Model 数据模型（专门用来操作数据，数据的CRUD）</li>
<li>V：View 视图（对于前端来说，就是页面）</li>
<li>C：Controller 控制器（是视图和数据模型沟通的桥梁，用于处理业务逻辑）</li>
</ul>
<h2 id="4-2-mvvm"><a href="#4-2-mvvm" class="headerlink" title="4.2 mvvm"></a>4.2 mvvm</h2><ul>
<li>MVVM &#x3D;&#x3D;&#x3D;&gt; M &#x2F; V &#x2F; VM</li>
<li>M：model数据模型</li>
<li>V：view视图</li>
<li>VM：ViewModel 视图模型</li>
</ul>
<h2 id="4-3-优势对比"><a href="#4-3-优势对比" class="headerlink" title="4.3 优势对比"></a>4.3 优势对比</h2><p>MVC模式，将应用程序划分为三大部分，实现了<code>职责分离</code></p>
<p>在前端中经常要通过 JS代码 来进行一些逻辑操作，最终还要把这些逻辑操作的结果现在页面中。也就是需要频繁的操作DOM</p>
<p>MVVM通过<code>数据双向绑定</code></p>
<ul>
<li>V（修改数据） —vm–&gt; M</li>
<li>M（修改数据）—vm–&gt; V</li>
<li>数据是核心</li>
</ul>
<p>Vue这种MVVM模式的框架，不推荐开发人员手动操作DOM</p>
<hr>
<h1 id="5-Vue中的MVVM"><a href="#5-Vue中的MVVM" class="headerlink" title="5 Vue中的MVVM"></a>5 Vue中的MVVM</h1><blockquote>
<p> 虽然没有完全遵循 MVVM 模型，Vue 的设计无疑受到了它的启发。因此在文档中经常会使用 vm (ViewModel 的简称) 这个变量名表示 Vue 实例 </p>
</blockquote>
<blockquote>
<p> 学习Vue要转化思想</p>
</blockquote>
<p> 不要在想着怎么操作DOM，而是想着如何<code>操作数据</code>！！！ </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;&#123;&#123; msg &#125;&#125;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 引入 vue.js --&gt;</span><br><span class="line">&lt;script src=&quot;vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 使用 vue --&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var vm = new Vue(&#123;</span><br><span class="line">        // el：提供一个在页面上已存在的 DOM 元素作为 Vue 实例的挂载目标</span><br><span class="line">        el: &#x27;#app&#x27;,</span><br><span class="line">        // Vue 实例的数据对象，用于给 View 提供数据</span><br><span class="line">        data: &#123;</span><br><span class="line">            msg: &#x27;Hello Vue&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h1 id="6-Vue实例"><a href="#6-Vue实例" class="headerlink" title="6. Vue实例"></a>6. Vue实例</h1><ul>
<li>注意 1：<strong>先在data中声明数据，再使用数据</strong></li>
<li>注意 2：可以通过 <code>vm.$data</code> 访问到data中的所有属性，或者 <code>vm.msg</code></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    var vm = new Vue(&#123;</span><br><span class="line">        data: &#123;</span><br><span class="line">            msg: &#x27;大家好，...&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    vm.$data.msg === vm.msg // true</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h1 id="7-数据绑定"><a href="#7-数据绑定" class="headerlink" title="7. 数据绑定"></a>7. 数据绑定</h1><p>最常用的方式：<code>Mustache(插值语法)</code>，也就是 <code>&#123;&#123;&#125;&#125;</code> 语法</p>
<p>​		解释：<code>&#123;&#123;&#125;&#125;</code>从数据对象<code>data</code>中获取数据</p>
<p>​		说明：数据对象的属性值发生了改变，插值处的内容都会更新</p>
<p>​		说明：<code>&#123;&#123;&#125;&#125;</code>中只能出现JavaScript表达式(运算元+运算符) ,而不能解析js语句</p>
<p>​		注意：<strong>Mustache 语法不能作用在 HTML 元素的属性上</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    &lt;h1&gt;Hello, &#123;&#123; msg &#125;&#125;.&lt;/h1&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123; 1 + 2 &#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123; isOk ? &#x27;yes&#x27;: &#x27;no&#x27; &#125;&#125;&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- ！！！错误示范！！！ --&gt;</span><br><span class="line">        &lt;h1 title=&quot;&#123;&#123; err &#125;&#125;&quot;&gt;&lt;/h1&gt;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="8-双向数据绑定"><a href="#8-双向数据绑定" class="headerlink" title="8. 双向数据绑定"></a>8. 双向数据绑定</h1><ul>
<li><p>双向数据绑定：将DOM与Vue实例的data数据绑定到一起，彼此之间相互影响 </p>
<ul>
<li>数据的改变会引起DOM的改变</li>
<li>DOM的改变也会引起数据的变化</li>
</ul>
</li>
<li><p>原理：<code>Object.defineProperty``get``set</code></p>
<ul>
<li><code>getter</code>和<code>setter</code>：访问器</li>
<li>作用：指定<code>读取或设置</code>对象属性值的时候，执行的操作</li>
</ul>
</li>
<li><p>参考地址</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://links.jianshu.com/go?to=https://cn.vuejs.org/v2/guide/reactivity.html">Vue - 深入响应式原理</a></li>
<li><a target="_blank" rel="noopener" href="https://links.jianshu.com/go?to=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty">MDN - Object.defineProperty()</a></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    /*  defineProperty语法 介绍 */</span><br><span class="line">    var obj = &#123;&#125;</span><br><span class="line">    Object.defineProperty(obj, &#x27;msg&#x27;, &#123;</span><br><span class="line">        // 设置 obj.msg = &quot;1&quot; 时set方法会被系统调用 参数分别是设置后和设置前的值</span><br><span class="line">        set: function (newVal, oldVal) &#123;  &#125;,</span><br><span class="line">        // 读取 obj.msg 时get方法会被系统调用</span><br><span class="line">        get: function ( newVal, oldVal ) &#123;&#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<hr>
</li>
</ul>
<h1 id="9-自定义模拟数据绑定-数据代理"><a href="#9-自定义模拟数据绑定-数据代理" class="headerlink" title="9.  自定义模拟数据绑定(数据代理)"></a>9.  自定义模拟数据绑定(数据代理)</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;&#125;</span><br><span class="line">obj.<span class="property">name</span> = <span class="string">&quot;admin&quot;</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj, <span class="string">&quot;age&quot;</span>, &#123;</span><br><span class="line">    <span class="title function_">set</span>(<span class="params">newVal</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;age被改变了&quot;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">get</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">20</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj);</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="10-动态添加数据的注意点"><a href="#10-动态添加数据的注意点" class="headerlink" title="10. 动态添加数据的注意点"></a>10. 动态添加数据的注意点</h1><ul>
<li><p>注意：只有<code>data</code>中的数据才是响应式的，动态添加进来的数据默认为非响应式</p>
<p>可以通过以下方式实现动态添加数据的响应式 </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Vue.set(object, key, value) - 适用于添加单个属性</span><br><span class="line">Object.assign() - 适用于添加多个属性</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    var vm = new Vue(&#123;</span><br><span class="line">        data: &#123;</span><br><span class="line">            stu: &#123;</span><br><span class="line">                name: &#x27;jack&#x27;,</span><br><span class="line">                age: 19</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    /* Vue.set */</span><br><span class="line">    Vue.set(vm.stu, &#x27;gender&#x27;, &#x27;male&#x27;)</span><br><span class="line"></span><br><span class="line">    /* Object.assign 将参数中的所有对象属性和值 合并到第一个参数 并返回合并后的对象*/</span><br><span class="line">    vm.stu = Object.assign(&#123;&#125;, vm.stu, &#123; gender: &#x27;female&#x27;, height: 180 &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<hr>
</li>
</ul>
<h1 id="11-异步DOM更新"><a href="#11-异步DOM更新" class="headerlink" title="11. 异步DOM更新"></a>11. 异步DOM更新</h1><ul>
<li><p>说明：Vue 异步执行 DOM 更新，监视所有数据改变，一次性更新DOM</p>
</li>
<li><p>优势：可以去除重复数据，对于避免不必要的计算和 避免重复 DOM 操作上，非常重要</p>
</li>
<li><p>如果需要拿到更新后dom中的数据 则需要通过 <code>Vue.nextTick(callback)</code></p>
<ul>
<li>实例调用<code>vm.$nextTick(function () &#123;&#125;)</code></li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    methods: &#123;</span><br><span class="line">        fn() &#123;</span><br><span class="line">            this.msg = &#x27;change&#x27;</span><br><span class="line">            this.$nextTick(function () &#123;</span><br><span class="line">                console.log(&#x27;$nextTick中打印：&#x27;, this.$el.children[0].innerText);</span><br><span class="line">            &#125;)</span><br><span class="line">            console.log(&#x27;直接打印：&#x27;, this.$el.children[0].innerText);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h1 id="11-vue指令"><a href="#11-vue指令" class="headerlink" title="11. vue指令"></a>11. vue指令</h1><ul>
<li><p>解释：指令 (Directives) 是带有 <code>v-</code> 前缀的特殊属性 </p>
</li>
<li><p>作用：当表达式的值改变时，将其产生的连带影响，响应式地作用于 DOM</p>
</li>
</ul>
<h2 id="11-1-v-text"><a href="#11-1-v-text" class="headerlink" title="11.1 v-text"></a>11.1 v-text</h2><ul>
<li><p>解释：更新DOM对象的 textContent </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1 v-text=&quot;msg&quot;&gt;&lt;/h1&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
<hr>
<h2 id="11-2-v-html"><a href="#11-2-v-html" class="headerlink" title="11.2 v-html"></a>11.2 v-html</h2><ul>
<li>解释：更新DOM对象的 innerHTML</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1 v-html=&quot;msg&quot;&gt;&lt;/h1&gt;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="11-3-v-bind"><a href="#11-3-v-bind" class="headerlink" title="11.3 v-bind"></a>11.3 v-bind</h2><ul>
<li>作用：当表达式的值改变时，将其产生的连带影响，作用于 DOM的属性</li>
<li>语法：<code>v-bind:title=&quot;msg&quot;</code></li>
<li>简写：<code>:title=&quot;msg&quot;</code></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 完整语法 --&gt;</span><br><span class="line">&lt;a v-bind:href=&quot;url&quot;&gt;&lt;/a&gt;</span><br><span class="line">&lt;!-- 缩写 --&gt;</span><br><span class="line">&lt;a :href=&quot;url&quot;&gt;&lt;/a&gt;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="11-4-v-model"><a href="#11-4-v-model" class="headerlink" title="11.4 v-model"></a>11.4 v-model</h2><ul>
<li>作用：在表单元素上创建双向数据绑定</li>
<li>说明：监听用户的输入事件以更新数据</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    &lt;input type=&quot;text&quot; v-model=&quot;message&quot; placeholder=&quot;edit me&quot;&gt;</span><br><span class="line">    &lt;p&gt;Message is: &#123;&#123; message &#125;&#125;&lt;/p&gt;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="v-model修饰符"><a href="#v-model修饰符" class="headerlink" title="v-model修饰符"></a>v-model修饰符</h3><ul>
<li>number: 把绑定的值转换为 <code>数值</code>类型;</li>
<li>trim: 把绑定的值去掉两边的空格;</li>
<li>lazy: 为了优化效率问题,可以实现 <code>懒绑定</code>,非实时的绑定(当焦点失去的时候,才把视图中的数据绑定在model上)</li>
</ul>
<hr>
<h2 id="11-5-v-on"><a href="#11-5-v-on" class="headerlink" title="11.5 v-on"></a>11.5 v-on</h2><ul>
<li><p>作用：绑定事件</p>
</li>
<li><p>语法:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">v-<span class="attr">on</span>:click=<span class="string">&quot;say&quot;</span>  #直接不传递参数的绑定,默认或传递一个event参数</span><br><span class="line">v-<span class="attr">on</span>:click=<span class="string">&quot;say(&#x27;参数&#x27;, $event)&quot;</span>  #如果传递了参数,值不会自动传递event参数,如果需要则要手动传递  $event</span><br></pre></td></tr></table></figure>
</li>
<li><p>简写：<code>@click=&quot;say&quot;</code></p>
</li>
<li><p>说明：绑定的事件定义在<code>methods</code></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 完整语法 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">v-on:click</span>=<span class="string">&quot;doSomething&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 缩写 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> @<span class="attr">click</span>=<span class="string">&quot;doSomething&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="事件修饰符"><a href="#事件修饰符" class="headerlink" title="事件修饰符"></a>事件修饰符</h3><p> <code>.stop</code> 阻止冒泡，调用 event.stopPropagation()</p>
<p> <code>.prevent</code> 阻止默认行为，调用 event.preventDefault()</p>
<p> <code>.capture</code> 添加事件侦听器时使用事件<code>捕获</code>模式</p>
<p> <code>.self</code> 只当事件在该元素本身（比如不是子元素）触发时，才会触发事件</p>
<p> <code>.once</code> 事件只触发一次</p>
<h2 id="11-6-v-for"><a href="#11-6-v-for" class="headerlink" title="11.6 v-for"></a>11.6 v-for</h2><ul>
<li>作用：基于源数据多次渲染元素或模板块</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 1 基础用法 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">&quot;item in items&quot;</span>&gt;</span></span><br><span class="line">  &#123;&#123; item.text &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- item 为当前项，index 为索引 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-for</span>=<span class="string">&quot;(item, index) in list&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125; -- &#123;&#123;index&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- item 为值，key 为键，index 为索引 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-for</span>=<span class="string">&quot;(item, key, index) in obj&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125; -- &#123;&#123;key&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-for</span>=<span class="string">&quot;item in 10&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="key属性"><a href="#key属性" class="headerlink" title="key属性"></a>key属性</h3><ul>
<li><p>推荐：使用 <code>v-for</code> 的时候提供 <code>key</code> 属性，以获得性能提升。</p>
</li>
<li><p>说明：使用 key，VUE会基于 key 的变化重新排列元素顺序，并且会移除 key 不存在的元素。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div v-for=&quot;item in items&quot; :key=&quot;item.id&quot;&gt;</span><br><span class="line">  &lt;!-- 内容 --&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
<hr>
<h2 id="11-7-v-if-和-v-show"><a href="#11-7-v-if-和-v-show" class="headerlink" title="11.7 v-if 和 v-show"></a>11.7 v-if 和 v-show</h2><ul>
<li><a target="_blank" rel="noopener" href="https://links.jianshu.com/go?to=https://cn.vuejs.org/v2/guide/conditional.html">条件渲染</a></li>
<li><code>v-if</code>：根据表达式的值的真假条件，销毁或重建元素</li>
<li><code>v-show</code>：根据表达式的<code>真假值</code>，切换元素的 display CSS 属性</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-show</span>=<span class="string">&quot;isShow&quot;</span>&gt;</span>这个元素展示出来了吗？？？<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-if</span>=<span class="string">&quot;isShow&quot;</span>&gt;</span>这个元素，在HTML结构中吗？？？<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="11-8-v-pre"><a href="#11-8-v-pre" class="headerlink" title="11.8 v-pre"></a>11.8 v-pre</h2><ul>
<li>说明：vue会跳过这个元素和它的子元素的编译过程。可以用来显示原始 Mustache 标签。跳过大量没有指令的节点会加快编译。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;span v-pre&gt;&#123;&#123; this will not be compiled &#125;&#125;&lt;/span&gt;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="11-9-v-once"><a href="#11-9-v-once" class="headerlink" title="11.9 v-once"></a>11.9 v-once</h2><ul>
<li>说明：vue只渲染元素和组件一次。随后的重新渲染，元素&#x2F;组件及其所有的子节点将被视为静态内容并跳过。这可以用于优化更新性能。</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">v-once</span>&gt;</span>This will never change: &#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>

<hr>
<h1 id="12-样式处理-class和style"><a href="#12-样式处理-class和style" class="headerlink" title="12. 样式处理 class和style"></a>12. 样式处理 class和style</h1><h2 id="12-1-style的处理"><a href="#12-1-style的处理" class="headerlink" title="12.1 style的处理"></a>12.1 style的处理</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span> <span class="attr">style</span>=<span class="string">&quot;color: red&quot;</span> <span class="attr">:style</span>=<span class="string">&quot;bgColor&quot;</span>&gt;</span>java大数据开发<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>: <span class="string">&quot;#root&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">bgColor</span>: &#123;<span class="attr">backgroundColor</span>: <span class="string">&quot;green&quot;</span>, <span class="attr">fontSize</span>:<span class="string">&quot;40px&quot;</span>&#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="12-2-class的处理"><a href="#12-2-class的处理" class="headerlink" title="12.2 class的处理"></a>12.2 class的处理</h2><blockquote>
<p>普通的class绑定(推荐使用)</p>
</blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line"><span class="selector-class">.bgColor</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line">&lt;<span class="selector-tag">div</span> id=&quot;app&quot;&gt;</span><br><span class="line">&lt;<span class="selector-tag">h1</span> :class=<span class="string">&quot;bg&quot;</span>&gt;&#123;&#123;name&#125;&#125;&lt;/<span class="selector-tag">h1</span>&gt;</span><br><span class="line">&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="selector-tag">var</span> vm = new Vue(&#123;</span><br><span class="line">    el: <span class="string">&quot;#app&quot;</span>,</span><br><span class="line">       data: &#123;</span><br><span class="line">         name: <span class="string">&quot;丽丽&quot;</span>,</span><br><span class="line">         bg: <span class="string">&#x27;bgColor&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>绑定多个class</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.redBorder</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">4px</span> solid red;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.pinkBg</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: pink;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span> <span class="attr">:class</span>=<span class="string">&quot;[&#x27;redBorder&#x27;,&#x27;pinkBg&#x27;]&quot;</span>&gt;</span>java大数据开发<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>通过判断来进行class的绑定(推荐使用)</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">    .redBorder &#123;</span><br><span class="line">        border: 4px solid red;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .pinkBg &#123;</span><br><span class="line">        background-color: pink;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;h1 :class=&quot;&#123;&#x27;redBorder&#x27;:isBd,&#x27;pinkBg&#x27;:isBg&#125;&quot;&gt;java大数据开发&lt;/h1&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        new Vue(&#123;</span><br><span class="line">            el: &quot;#root&quot;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                isBg: true,</span><br><span class="line">                isBd: true</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>注意:无论是绑定style还是绑定class,都在原始的style或者class的基础上进行的<code>样式叠加</code>,并不是替换原始的样式;</p>
<hr>
<h1 id="13-过滤器"><a href="#13-过滤器" class="headerlink" title="13. 过滤器"></a>13. 过滤器</h1><ul>
<li>作用：文本数据格式化</li>
<li>过滤器可以用在两个地方：<code>&#123;&#123;&#125;&#125;</code>和 v-bind 表达式</li>
<li>两种过滤器：1 全局过滤器  2 局部过滤器</li>
</ul>
<h2 id="13-1-全局过滤器"><a href="#13-1-全局过滤器" class="headerlink" title="13.1 全局过滤器"></a>13.1 全局过滤器</h2><ul>
<li>说明：通过全局方式创建的过滤器，在任何一个vue实例中都可以使用</li>
<li>注意：使用全局过滤器的时候，需要先创建全局过滤器，再创建Vue实例</li>
<li>显示的内容,是由过滤器的返回值决定</li>
<li>使用语法: <code>&lt;h1&gt;&#123;&#123;name | myfilter1&#125;&#125;&lt;/h1&gt;</code></li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Vue</span>.<span class="title function_">filter</span>(<span class="string">&#x27;filterName&#x27;</span>, <span class="keyword">function</span> (<span class="params">value</span>) &#123;</span><br><span class="line">  <span class="comment">// value 表示要过滤的内容</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>eg:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;h1&gt;&#123;&#123;name | myfilter1&#125;&#125;&lt;/h1&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    Vue.filter(&quot;myfilter1&quot;, function (val) &#123;</span><br><span class="line">        return val + &quot;hello&quot;;</span><br><span class="line">    &#125;);</span><br><span class="line">    var vm = new Vue(&#123;</span><br><span class="line">        el: &quot;#app&quot;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            name: &quot;丽丽&quot;,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="13-2-局部过滤器"><a href="#13-2-局部过滤器" class="headerlink" title="13.2 局部过滤器"></a>13.2 局部过滤器</h2><ul>
<li>说明：局部过滤器是在某一个vue实例的内容创建的，只在当前实例中起作用</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;h1&gt;&#123;&#123;name | myfilter2&#125;&#125;&lt;/h1&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var vm = new Vue(&#123;</span><br><span class="line">        el: &quot;#app&quot;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            name: &quot;丽丽&quot;,</span><br><span class="line">        &#125;,</span><br><span class="line">        filters: &#123;</span><br><span class="line">            myfilter2(val) &#123;</span><br><span class="line">                return &quot;miss&quot; + val;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="14-按键值修饰符"><a href="#14-按键值修饰符" class="headerlink" title="14. 按键值修饰符"></a>14. 按键值修饰符</h1><ul>
<li>说明：在监听键盘事件时，Vue 允许为 <code>v-on</code> 在监听键盘事件时添加关键修饰符</li>
<li><a target="_blank" rel="noopener" href="https://links.jianshu.com/go?to=https://cn.vuejs.org/v2/guide/events.html%23">键盘事件 - 键值修饰符</a></li>
<li>其他：修饰键（.ctrl等）、鼠标按键修饰符（.left等）</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 只有在 `key` 是 `Enter` 时调用 `vm.submit()` --&gt;</span><br><span class="line">&lt;input v-on:keyup.enter=&quot;submit&quot;&gt;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="15-监听器watch"><a href="#15-监听器watch" class="headerlink" title="15. 监听器watch"></a>15. 监听器watch</h1><ul>
<li>概述：<code>watch</code>是一个对象，键是需要观察的表达式，值是对应回调函数</li>
<li>作用：当表达式的值发生变化后，会调用对应的回调函数完成响应的监视操作</li>
</ul>
<blockquote>
<p>监听普通属性的改变:</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&quot;#root&quot;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="attr">firstName</span>: <span class="string">&quot;张&quot;</span>,</span><br><span class="line">        <span class="attr">secondName</span>: <span class="string">&quot;三&quot;</span>,</span><br><span class="line">        <span class="attr">fullName</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">methods</span>: &#123;&#125;,</span><br><span class="line">    <span class="attr">watch</span>: &#123;</span><br><span class="line">        <span class="comment">//监听器的简写形式</span></span><br><span class="line">        <span class="title function_">firstName</span>(<span class="params">newVal,oldVal</span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(newVal)</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">fullName</span> = newVal + <span class="variable language_">this</span>.<span class="property">secondName</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">secondName</span>(<span class="params">newVal,oldVal</span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">fullName</span> = <span class="variable language_">this</span>.<span class="property">firstName</span> + newVal</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>配置初始化监视:</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&quot;#root&quot;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="attr">firstName</span>: <span class="string">&quot;张&quot;</span>,</span><br><span class="line">        <span class="attr">secondName</span>: <span class="string">&quot;三&quot;</span>,</span><br><span class="line">        <span class="attr">fullName</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">methods</span>: &#123;&#125;,</span><br><span class="line">    <span class="attr">watch</span>: &#123;</span><br><span class="line">        <span class="comment">//非简写形式</span></span><br><span class="line">        <span class="attr">firstName</span>: &#123;</span><br><span class="line">            <span class="attr">immediate</span>: <span class="literal">true</span>,<span class="comment">//立刻监视(初始化监视)</span></span><br><span class="line">            <span class="title function_">handler</span>(<span class="params">newVal, oldVal</span>) &#123;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">fullName</span> = newVal + <span class="variable language_">this</span>.<span class="property">secondName</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">secondName</span>: &#123;</span><br><span class="line">            <span class="title function_">handler</span>(<span class="params">newVal, oldVal</span>) &#123;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">fullName</span> = <span class="variable language_">this</span>.<span class="property">firstName</span> + newVal</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>监视数组的改变:</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&quot;#root&quot;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="attr">ages</span>: [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">        <span class="title function_">update</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="comment">// this.ages[1] = 800;  此种方式不能监听到数组元素的改变</span></span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">ages</span>.<span class="title function_">splice</span>(<span class="number">1</span>, <span class="number">1</span>, <span class="number">800</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">push</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">ages</span>.<span class="title function_">push</span>(<span class="number">200</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">unshift</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">ages</span>.<span class="title function_">unshift</span>(<span class="number">100</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">shift</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">ages</span>.<span class="title function_">shift</span>()</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">pop</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">ages</span>.<span class="title function_">pop</span>()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">watch</span>: &#123;</span><br><span class="line">        <span class="attr">ages</span>: <span class="keyword">function</span> (<span class="params">newVal</span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;监听到数组的改变:&quot;</span>, newVal)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>监听对象的改变:</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&quot;#root&quot;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="attr">stu</span>: &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&quot;小明&quot;</span>,</span><br><span class="line">            <span class="attr">age</span>: <span class="number">20</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">        <span class="comment">//直接改变对象的内存地址,可以监听到</span></span><br><span class="line">        <span class="title function_">change1</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">stu</span> = &#123;</span><br><span class="line">                <span class="attr">name</span>: <span class="string">&quot;小花&quot;</span></span><br><span class="line">            &#125;;</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        <span class="comment">//改变对象的属性(要配置deep:true,才可以监听到)</span></span><br><span class="line">        <span class="title function_">change2</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">stu</span>.<span class="property">name</span> = <span class="string">&quot;花花&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">watch</span>: &#123;</span><br><span class="line">        <span class="attr">stu</span>: &#123;</span><br><span class="line">            <span class="attr">deep</span>: <span class="literal">true</span>,<span class="comment">//默认为false,要想实现深度监听则需要配置为true</span></span><br><span class="line">            <span class="title function_">handler</span>(<span class="params">newVal</span>) &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;监听到对象的改变:&quot;</span>, newVal)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



# 16. 计算属性

- 说明：计算属性是基于它们的依赖进行`缓存`的，只有在它的依赖发生改变时才会重新求值
- 注意：Mustache语法（{{}}）中不要放入太多的逻辑，否则会让模板过重、难以理解和维护
- 注意：**computed中的属性不能与data中的属性同名，否则会报错**
- 计算属性的值是通过其他属性计算出来的,不能直接赋值

<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = new Vue(&#123;</span><br><span class="line">  el: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">  <span class="keyword">data</span>: &#123;</span><br><span class="line">    firstname: <span class="string">&#x27;jack&#x27;</span>,</span><br><span class="line">    lastname: <span class="string">&#x27;rose&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    fullname() &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.firstname + <span class="string">&#x27;.&#x27;</span> + <span class="keyword">this</span>.lastname</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h1 id="17-实例-组件-生命周期"><a href="#17-实例-组件-生命周期" class="headerlink" title="17. 实例(组件)生命周期"></a>17. 实例(组件)生命周期</h1><ul>
<li>所有的 Vue 组件都是 Vue 实例，并且接受相同的选项对象即可 (一些根实例特有的选项除外)。</li>
<li>实例生命周期也叫做：组件生命周期</li>
</ul>
<h2 id="17-1-生命周期介绍"><a href="#17-1-生命周期介绍" class="headerlink" title="17.1 生命周期介绍"></a>17.1 生命周期介绍</h2><ul>
<li><strong>一个组件从开始到最后消亡所经历的各种状态，就是一个组件的生命周期</strong> </li>
<li>生命周期钩子函数的定义：从组件被创建，到组件挂载到页面上运行，再到页面关闭组件被卸载，这三个阶段总是伴随着组件各种各样的事件，这些事件，统称为组件的生命周期函数！</li>
<li>注意：Vue在执行过程中会自动调用<code>生命周期钩子函数</code>，我们只需要提供这些钩子函数即可</li>
<li>注意：钩子函数的名称都是Vue中规定好的</li>
</ul>
<h2 id="17-2-常用的钩子函数"><a href="#17-2-常用的钩子函数" class="headerlink" title="17.2 常用的钩子函数"></a>17.2 常用的钩子函数</h2><h3 id="17-2-1-钩子函数-beforeCreate"><a href="#17-2-1-钩子函数-beforeCreate" class="headerlink" title="17.2.1 钩子函数 - beforeCreate()"></a>17.2.1 钩子函数 - beforeCreate()</h3><ul>
<li>说明：在实例初始化之后，数据观测 (data observer) 和 event&#x2F;watcher 事件配置之前被调用</li>
<li>注意：此时，无法获取 data中的数据、methods中的方法</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vue = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">        <span class="attr">el</span>: <span class="string">&quot;#app&quot;</span>, </span><br><span class="line">        <span class="attr">data</span>: &#123;</span><br><span class="line">            <span class="attr">myname</span>: <span class="string">&quot;java&quot;</span>,</span><br><span class="line">            <span class="attr">user</span>: &#123;<span class="attr">name</span>: <span class="string">&quot;admin&quot;</span>, <span class="attr">age</span>: <span class="number">20</span>&#125;</span><br><span class="line">        &#125;,</span><br><span class="line">	<span class="comment">//生命周期函数</span></span><br><span class="line">        <span class="attr">beforeCreate</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;实例创建之前调用...&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="17-2-2-钩子函数-created"><a href="#17-2-2-钩子函数-created" class="headerlink" title="17.2.2 钩子函数 - created()"></a>17.2.2 钩子函数 - <strong>created()</strong></h3><ul>
<li>注意：这是一个常用的生命周期，可以调用methods中的方法、改变data中的数据</li>
<li>使用场景：发送请求获取数据</li>
</ul>
<h3 id="17-2-3-钩子函数-beforeMount"><a href="#17-2-3-钩子函数-beforeMount" class="headerlink" title="17.2.3 钩子函数 - beforeMount()"></a>17.2.3 钩子函数 - beforeMount()</h3><ul>
<li>说明：在挂载开始之前被调用</li>
</ul>
<h3 id="17-2-4-钩子函数-mounted"><a href="#17-2-4-钩子函数-mounted" class="headerlink" title="17.2.4 钩子函数 - mounted()"></a>17.2.4 钩子函数 - <strong>mounted()</strong></h3><ul>
<li>说明：此时，vue实例已经挂载到页面中，可以获取到el中的DOM元素，进行DOM操作</li>
</ul>
<h3 id="17-2-5-钩子函数-beforeUpdate"><a href="#17-2-5-钩子函数-beforeUpdate" class="headerlink" title="17.2.5 钩子函数 - beforeUpdate()"></a>17.2.5 钩子函数 - beforeUpdate()</h3><ul>
<li>说明：数据更新时调用，发生在虚拟 DOM 重新渲染和打补丁之前。你可以在这个钩子中进一步地更改状态，这不会触发附加的重渲染过程。</li>
<li>注意：此处获取的数据是更新后的数据，但是获取页面中的DOM元素是更新之前的</li>
</ul>
<h3 id="17-2-6-钩子函数-updated"><a href="#17-2-6-钩子函数-updated" class="headerlink" title="17.2.6 钩子函数 - updated()"></a>17.2.6 钩子函数 - updated()</h3><ul>
<li>说明：组件 DOM 已经更新，所以你现在可以执行依赖于 DOM 的操作。</li>
</ul>
<h3 id="17-2-7-钩子函数-beforeDestroy"><a href="#17-2-7-钩子函数-beforeDestroy" class="headerlink" title="17.2.7 钩子函数 - beforeDestroy()"></a>17.2.7 钩子函数 - beforeDestroy()</h3><ul>
<li>说明：实例销毁之前调用。在这一步，实例仍然完全可用。</li>
<li>使用场景：实例销毁之前，执行清理任务，比如：清除定时器等</li>
</ul>
<h3 id="17-2-8-钩子函数-destroyed"><a href="#17-2-8-钩子函数-destroyed" class="headerlink" title="17.2.8 钩子函数 - destroyed()"></a>17.2.8 钩子函数 - destroyed()</h3><ul>
<li>说明：Vue 实例销毁后调用。调用后，Vue 实例指示的所有东西都会解绑定，所有的事件监听器会被移除，所有的子实例也会被销毁。</li>
</ul>
<h1 id="18-js中的promise"><a href="#18-js中的promise" class="headerlink" title="18 js中的promise"></a>18 js中的promise</h1><h2 id="18-1-promise是什么"><a href="#18-1-promise是什么" class="headerlink" title="18.1 promise是什么"></a>18.1 promise是什么</h2><ul>
<li>主要用于异步计算</li>
<li>可以将异步操作队列化，按照期望的顺序执行，返回符合预期的结果</li>
<li>可以在对象之间传递和操作promise，帮助我们处理队列</li>
</ul>
<h2 id="18-2-异步回调的问题"><a href="#18-2-异步回调的问题" class="headerlink" title="18.2 异步回调的问题"></a>18.2 异步回调的问题</h2><ul>
<li><p>之前处理异步是通过纯粹的回调函数的形式进行处理</p>
</li>
<li><p>很容易进入到回调地狱中，剥夺了函数return的能力(异步调用如果return很有可能返回值为undefine)</p>
</li>
<li><p>问题可以解决，但是难以读懂，维护困难</p>
</li>
<li><p>稍有不慎就会踏入回调地狱 - 嵌套层次深，不好维护</p>
</li>
<li><p>一般情况我们一次性调用API就可以完成请求。有些情况需要多次调用服务器API，就会形成一个链式调用，比如为了完成一个功能，我们需要调用API1、API2、API3，依次按照顺序进行调用，这个时候就会出现回调地狱的问题</p>
</li>
</ul>
<h2 id="18-3-promise详解"><a href="#18-3-promise详解" class="headerlink" title="18.3 promise详解"></a>18.3 promise详解</h2><ul>
<li><p>promise是一个对象，对象和函数的区别就是对象可以保存状态，函数不可以（闭包除外）</p>
</li>
<li><p>并未剥夺函数return的能力，因此无需层层传递callback，进行回调获取数据</p>
</li>
<li><p>代码风格，容易理解，便于维护</p>
</li>
<li><p>多个异步等待合并便于解决</p>
</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="number">110</span>;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (a == <span class="number">10</span>) &#123;</span><br><span class="line">            <span class="title function_">resolve</span>(<span class="string">&quot;通过&quot;</span>)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="title function_">reject</span>(<span class="string">&quot;拒绝&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;函数体执行了&quot;</span>)</span><br><span class="line">    &#125;, <span class="number">3000</span>);</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">resp</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(resp)</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">resp</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(resp)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h1 id="19-网络请求axios"><a href="#19-网络请求axios" class="headerlink" title="19. 网络请求axios"></a>19. 网络请求axios</h1><p>Promise based HTTP client for the browser and node.js </p>
<ul>
<li><p>以Promise为基础的HTTP客户端，适用于：浏览器和node.js</p>
</li>
<li><p>封装ajax，用来发送请求，异步获取数据</p>
</li>
<li><p>安装：<code>npm i -S axios</code> </p>
</li>
<li><p>cdn引入(如果项目简单就没必要使用脚手架)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--axios vue中除了vue-resource官方的库的另外一个优秀的库--&gt;</span><br><span class="line">&lt;script src=&quot;https://unpkg.com/axios/dist/axios.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;!--qs(用来对象和请求字符串相互转换的库)--&gt;</span><br><span class="line">&lt;script src=&quot;https://cdn.bootcss.com/qs/6.5.1/qs.min.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//正在热映的电影</span></span><br><span class="line">axios.<span class="title function_">get</span>(<span class="string">&quot;https://douban.uieee.com/v2/movie/in_theaters&quot;</span>)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function">(<span class="params">resp</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(resp.<span class="property">data</span>);</span><br><span class="line">&#125;)</span><br><span class="line">    .<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(err);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="19-1-发送get请求"><a href="#19-1-发送get请求" class="headerlink" title="19.1 发送get请求"></a>19.1 发送get请求</h2><p>完整写法:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.$myaxios(&#123;</span><br><span class="line">    <span class="attr">url</span>:<span class="string">&quot;/stu/findById?id=1&quot;</span>,</span><br><span class="line">    <span class="attr">method</span>:<span class="string">&quot;GET&quot;</span>,</span><br><span class="line">    <span class="attr">headers</span>:&#123;</span><br><span class="line">        <span class="string">&quot;MyToken&quot;</span>:<span class="string">&quot;admin&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">resp</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(resp.<span class="property">data</span>)</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;出错了....&quot;</span> + error)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>简写:</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// url中带有query参数</span></span><br><span class="line">axios.<span class="title function_">get</span>(<span class="string">&#x27;/user?id=89&#x27;</span>)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">response</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(response);</span><br><span class="line">&#125;)</span><br><span class="line">    .<span class="title function_">catch</span>(<span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// url和参数分离，使用对象</span></span><br><span class="line">axios.<span class="title function_">get</span>(<span class="string">&#x27;/user&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">params</span>: &#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="number">12345</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="19-2-发送post请求"><a href="#19-2-发送post请求" class="headerlink" title="19.2 发送post请求"></a>19.2 发送post请求</h2><blockquote>
<p>完整写法:</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.$myaxios(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&quot;/stu/findById&quot;</span>,</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&quot;POST&quot;</span>,</span><br><span class="line">    <span class="attr">data</span>: <span class="string">&quot;id=1&quot;</span>  <span class="comment">//只能是query参数的格式(请求实体)</span></span><br><span class="line">&#125;</span><br><span class="line">             ).<span class="title function_">then</span>(<span class="function"><span class="params">resp</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(resp.<span class="property">data</span>)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>简写</p>
</blockquote>
<ul>
<li>默认情况下，axios 会将JS对象序列化为JSON对象。为了使用 <code>application/x-www-form-urlencoded</code> 格式发送请求，我们可以这样：</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">qs.<span class="title function_">stringify</span>(&#123; <span class="string">&#x27;bar&#x27;</span>: <span class="number">123</span> &#125;) ===&gt; <span class="string">&quot;bar=123&quot;</span></span><br><span class="line">axios.<span class="title function_">post</span>(<span class="string">&#x27;/foo&#x27;</span>, qs.<span class="title function_">stringify</span>(&#123; <span class="string">&#x27;bar&#x27;</span>: <span class="number">123</span> &#125;))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 或者：</span></span><br><span class="line">axios.<span class="title function_">post</span>(<span class="string">&#x27;/foo&#x27;</span>, <span class="string">&#x27;bar=123&amp;age=19&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> url = <span class="string">&#x27;http://vue.studyit.io/api/postcomment/17&#x27;</span></span><br><span class="line">axios.<span class="title function_">post</span>(url, <span class="string">&#x27;content=点个赞不过份&#x27;</span>)</span><br><span class="line"></span><br><span class="line">axios.<span class="title function_">post</span>(<span class="string">&#x27;/user&#x27;</span>, qs.<span class="title function_">stringify</span>(&#123;</span><br><span class="line">    <span class="attr">firstName</span>: <span class="string">&#x27;Fred&#x27;</span>,</span><br><span class="line">    <span class="attr">lastName</span>: <span class="string">&#x27;Flintstone&#x27;</span></span><br><span class="line">&#125;))</span><br><span class="line">    .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">response</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(response);</span><br><span class="line">&#125;)</span><br><span class="line">    .<span class="title function_">catch</span>(<span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="19-3-创建自定义的axios实例"><a href="#19-3-创建自定义的axios实例" class="headerlink" title="19.3. 创建自定义的axios实例"></a>19.3. 创建自定义的axios实例</h2><p>默认使用axios实例,是由axios库提供的,我们可以基于axios库提供的实例进行增强,然后再使用;</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&quot;#root&quot;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123;&#125;,</span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">        <span class="title function_">sendGet</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$myaxios</span>.<span class="title function_">get</span>(<span class="string">&quot;/stu/findById&quot;</span>, &#123;</span><br><span class="line">                <span class="attr">params</span>: &#123;</span><br><span class="line">                    <span class="attr">id</span>: <span class="number">1</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;).<span class="title function_">then</span>(<span class="function"><span class="params">resp</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(resp.<span class="property">data</span>)</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">sendPost</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$myaxios</span>.<span class="title function_">post</span>(<span class="string">&quot;/stu/findById&quot;</span>, <span class="string">&quot;id=1&quot;</span></span><br><span class="line">                              ).<span class="title function_">then</span>(<span class="function"><span class="params">resp</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(resp.<span class="property">data</span>)</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">//创建一个自定义的axios实例,并且挂载到vm实例上</span></span><br><span class="line">        <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$myaxios</span> = axios.<span class="title function_">create</span>(&#123;</span><br><span class="line">            <span class="attr">baseURL</span>: <span class="string">&quot;http://localhost:8080&quot;</span>,</span><br><span class="line">            <span class="attr">timeout</span>: <span class="number">3000</span></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="19-4-axios拦截器"><a href="#19-4-axios拦截器" class="headerlink" title="19.4 axios拦截器"></a>19.4 axios拦截器</h2><ul>
<li><p>拦截器会拦截发送的每一个请求，请求发送之前执行<code>request</code>中的函数，请求发送完成之后执行<code>response</code>中的函数 </p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 请求拦截器</span></span><br><span class="line">axios.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(<span class="keyword">function</span> (<span class="params">config</span>) &#123;</span><br><span class="line">    <span class="comment">// 所有请求之前都要执行的操作</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> config;</span><br><span class="line">&#125;, <span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">    <span class="comment">// 错误处理</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 响应拦截器</span></span><br><span class="line">axios.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(<span class="keyword">function</span> (<span class="params">response</span>) &#123;</span><br><span class="line">    <span class="comment">// 所有请求完成后都要执行的操作</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> response;</span><br><span class="line">&#125;, <span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">    <span class="comment">// 错误处理</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
</ul>
<hr>
<h1 id="20-Vue自定义指令"><a href="#20-Vue自定义指令" class="headerlink" title="20. Vue自定义指令"></a>20. Vue自定义指令</h1><h2 id="20-1-全局自定义指令"><a href="#20-1-全局自定义指令" class="headerlink" title="20.1 全局自定义指令"></a>20.1 全局自定义指令</h2><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 第一个参数：指令名称</span></span><br><span class="line"><span class="comment">// 第二个参数：配置对象，指定指令的钩子函数</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">directive</span>(<span class="string">&#x27;directiveName&#x27;</span>, &#123;</span><br><span class="line">  <span class="comment">// bind中只能对元素自身进行DOM操作，而无法对父级元素操作</span></span><br><span class="line">  <span class="comment">// 只调用一次 指令第一次绑定到元素时调用。在这里可以进行一次性的初始化设置。</span></span><br><span class="line">  <span class="title function_">bind</span>(<span class="params"> el，binding, vnode </span>) &#123;</span><br><span class="line">    <span class="comment">// 参数详解</span></span><br><span class="line">    <span class="comment">// el：指令所绑定的元素，可以用来直接操作 DOM 。</span></span><br><span class="line">    <span class="comment">// binding：一个对象，包含以下属性：</span></span><br><span class="line">      <span class="comment">// name：指令名，不包括 v- 前缀。</span></span><br><span class="line">      <span class="comment">// value：指令的绑定值，等号后面的值 。</span></span><br><span class="line">      <span class="comment">// oldValue：指令绑定的前一个值，仅在 update 和 componentUpdated 钩子中可用。无论值是否改变都可用。</span></span><br><span class="line">      <span class="comment">// expression：字符串形式的指令表达式 等号后面的字符串 形式</span></span><br><span class="line">      <span class="comment">// arg：传给指令的参数，可选。例如 v-my-directive:foo 中，参数为 &quot;foo&quot;。</span></span><br><span class="line">      <span class="comment">// modifiers：指令修饰符。例如：v-directive.foo.bar中，修饰符对象为 &#123; foo: true, bar: true &#125;。</span></span><br><span class="line">    <span class="comment">// vnode：Vue 编译生成的虚拟节点。。</span></span><br><span class="line">    <span class="comment">// oldVnode：上一个虚拟节点，仅在 update 和 componentUpdated 钩子中可用。</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// inserted这个钩子函数调用的时候，当前元素已经插入页面中了，也就是说可以获取到父级节点了</span></span><br><span class="line">  inserted (  el，binding, vnode ) &#123;&#125;,</span><br><span class="line">  <span class="comment">//  DOM重新渲染前</span></span><br><span class="line">  <span class="title function_">update</span>(<span class="params">el，binding, vnode,oldVnode</span>) &#123;&#125;,</span><br><span class="line">  <span class="comment">// DOM重新渲染后</span></span><br><span class="line">  componentUpdated ( el，binding, vnode,oldVnode ) &#123;&#125;,</span><br><span class="line">  <span class="comment">// 只调用一次，指令与元素解绑时调用</span></span><br><span class="line">  unbind ( el ) &#123;</span><br><span class="line">    <span class="comment">// 指令所在的元素在页面中消失，触发</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 简写 如果你想在 bind 和 update 时触发相同行为，而不关心其它的钩子:</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">directive</span>(<span class="string">&#x27;自定义指令名&#x27;</span>, <span class="keyword">function</span>(<span class="params"> el, binding </span>) &#123;&#125;)</span><br><span class="line"><span class="comment">// 例：</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">directive</span>(<span class="string">&#x27;color&#x27;</span>, <span class="keyword">function</span>(<span class="params">el, binding</span>) &#123;</span><br><span class="line">  el.<span class="property">style</span>.<span class="property">color</span> = binging.<span class="property">value</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 使用 注意直接些会被i成data中的数据“red” 需要字符串则嵌套引号&quot;&#x27;red&#x27;&quot;</span></span><br><span class="line">&lt;p v-color=<span class="string">&quot;&#x27;red&#x27;&quot;</span>&gt;&lt;/p&gt;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="20-2-局部自定义指令"><a href="#20-2-局部自定义指令" class="headerlink" title="20.2 局部自定义指令"></a>20.2 局部自定义指令</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    &lt;button @click=<span class="string">&quot;downData&quot;</span> v-color=<span class="string">&quot;&#x27;red&#x27;&quot;</span>&gt;点我下载数据&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">        el: <span class="string">&quot;#app&quot;</span>,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            downData: function () &#123;</span><br><span class="line">                <span class="comment">//正在热映的电影</span></span><br><span class="line">                axios.<span class="keyword">get</span>(<span class="string">&quot;https://douban.uieee.com/v2/movie/in_theaters&quot;</span>, &#123;<span class="keyword">params</span>: &#123;<span class="string">&#x27;id&#x27;</span>: <span class="number">1</span>&#125;&#125;)</span><br><span class="line">                    .then((resp) =&gt; &#123;</span><br><span class="line">                        console.log(resp.data);</span><br><span class="line">                    &#125;)</span><br><span class="line">                    .<span class="keyword">catch</span>(err =&gt; &#123;</span><br><span class="line">                        console.log(err);</span><br><span class="line">                    &#125;)</span><br><span class="line">                        ;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        directives: &#123;</span><br><span class="line">            color: function (el, binding) &#123;</span><br><span class="line">                el.style.color = binding.<span class="keyword">value</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="21-Vue组件"><a href="#21-Vue组件" class="headerlink" title="21. Vue组件"></a>21. Vue组件</h1><blockquote>
<p>组件: 完成局部特定功能的代码和资源的组合;</p>
</blockquote>
<blockquote>
<p> 创建组件的两种方式：1 全局组件 2 局部组件 </p>
</blockquote>
<ul>
<li>定义组件时,组件名称不能含有特殊字符,- 和 _也不能有 </li>
<li>如果定义组件时,组件名称复杂建议使用大驼峰命名法</li>
</ul>
<p>定义组件时如果使用的是驼峰命名法,那么使用时就要使用 <code>-</code> 分隔</p>
<hr>
<h2 id="21-1-全局组件"><a href="#21-1-全局组件" class="headerlink" title="21.1 全局组件"></a>21.1 全局组件</h2><ul>
<li>说明：全局组件在所有的vue实例中都可以使用(全局定义,全局有效)</li>
<li>注意：<strong>组件先得注册之后才能使用</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;root&quot;&gt;</span><br><span class="line">    &lt;!--使用组件    --&gt;</span><br><span class="line">    &lt;common1&gt;&lt;/common1&gt;</span><br><span class="line">    &lt;h2&gt;你好&lt;/h2&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    //定义组件</span><br><span class="line">    const common111 = Vue.extend(&#123;</span><br><span class="line">        template: `&lt;h1&gt;&#123;&#123;msg&#125;&#125;&lt;/h1&gt;`,</span><br><span class="line">        data()&#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                msg:&quot;组件一&quot;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    //组件可以简写为</span><br><span class="line">    // const common111 = &#123;</span><br><span class="line">    //     template: `&lt;h1&gt;我是一个全局组件&lt;/h1&gt;`</span><br><span class="line">    // &#125;</span><br><span class="line"></span><br><span class="line">    //注册全局组件</span><br><span class="line">    Vue.component(&quot;common1&quot;, common111)</span><br><span class="line">    new Vue(&#123;</span><br><span class="line">        el: &quot;#root&quot;,</span><br><span class="line">        data: &#123;&#125;,</span><br><span class="line">        methods: &#123;&#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="21-2-局部组件"><a href="#21-2-局部组件" class="headerlink" title="21.2 局部组件"></a>21.2 局部组件</h2><ul>
<li>说明：局部组件，局部定义,局部有效</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;root&quot;</span>&gt;</span><br><span class="line">    &lt;!--使用组件    --&gt;</span><br><span class="line">    &lt;common1&gt;&lt;/common1&gt;</span><br><span class="line">    &lt;common2&gt;&lt;/common2&gt;</span><br><span class="line">    &lt;h2&gt;你好&lt;/h2&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义组件</span></span><br><span class="line">    <span class="keyword">const</span> common1 = Vue.extend(&#123;</span><br><span class="line">        template: <span class="string">`&lt;h1&gt;&#123;&#123;msg&#125;&#125;&lt;/h1&gt;`</span>,</span><br><span class="line">        data() &#123;</span><br><span class="line">            <span class="keyword">return</span> &#123;</span><br><span class="line">                msg: <span class="string">&quot;组件一&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> common2 = Vue.extend(&#123;</span><br><span class="line">        template: <span class="string">`&lt;h1&gt;&#123;&#123;msg&#125;&#125;&lt;/h1&gt;`</span>,</span><br><span class="line">        data() &#123;</span><br><span class="line">            <span class="keyword">return</span> &#123;</span><br><span class="line">                msg: <span class="string">&quot;组件二&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">new</span> Vue(&#123;</span><br><span class="line">        el: <span class="string">&quot;#root&quot;</span>,</span><br><span class="line">        data: &#123;&#125;,</span><br><span class="line">        methods: &#123;&#125;,</span><br><span class="line">        components: &#123;</span><br><span class="line">            common1,</span><br><span class="line">            common2</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="22-vue-cli脚手架的使用"><a href="#22-vue-cli脚手架的使用" class="headerlink" title="22. vue-cli脚手架的使用"></a>22. vue-cli脚手架的使用</h1><ul>
<li>安装nodejs</li>
<li>安装npm</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure>

<ul>
<li>配置淘宝镜像</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">查看当前镜像地址</span></span><br><span class="line">npm config get registry  #默认为: https://registry.npmjs.org/</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">配置淘宝镜像服务器</span></span><br><span class="line">npm config set registry https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>

<ul>
<li>安装vue-cli脚手架</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install @vue/cli -g</span><br><span class="line">vue -V  #查看脚手架的版本 4.5.15</span><br></pre></td></tr></table></figure>

<ul>
<li>使用脚手架创建vue商业项目</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">创建项目</span></span><br><span class="line">vue create pro01</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">在项目的根目录(package.json所在目录)运行项目</span></span><br><span class="line">npm run serve</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="23-关闭eslint的语法检查"><a href="#23-关闭eslint的语法检查" class="headerlink" title="23. 关闭eslint的语法检查"></a>23. 关闭eslint的语法检查</h1><ul>
<li><p>在项目的根目录创建vue项目的配置文件  <code>vue-config.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="comment">//关闭vue-cli中eslint的语法检查</span></span><br><span class="line">    <span class="attr">lintOnSave</span>: <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<hr>
<h1 id="24-vue-cli添加对scss的支持"><a href="#24-vue-cli添加对scss的支持" class="headerlink" title="24. vue-cli添加对scss的支持"></a>24. vue-cli添加对scss的支持</h1><ul>
<li><p>安装scss的loader加载器</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">查看npm远程仓库中的全部版本号</span></span><br><span class="line">npm show sass-loader versions</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install sass-loader@7.3.1 --save-dev | -D</span><br><span class="line">npm install node-sass@4.14.1 --save-dev | -D</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装完成之后就可以使用scss的预编译器了</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;style scoped lang=&quot;scss&quot;&gt;</span><br><span class="line">  <span class="selector-id">#TodoHeader</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">2px</span> solid red;</span><br><span class="line">    <span class="selector-class">.box</span> &#123;</span><br><span class="line">      <span class="selector-tag">h1</span>&#123;</span><br><span class="line">        <span class="attribute">color</span>: gray;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="22-Vue的组件通信"><a href="#22-Vue的组件通信" class="headerlink" title="22. Vue的组件通信"></a>22. Vue的组件通信</h1><h2 id="22-1-父组件到子组件通信"><a href="#22-1-父组件到子组件通信" class="headerlink" title="22.1 父组件到子组件通信"></a>22.1 父组件到子组件通信</h2><ul>
<li><p>方式：通过子组件<code>props</code>属性来传递数据 props是一个数组</p>
</li>
<li><p>注意：属性的值必须在组件中通过<code>props</code>属性显示指定，否则，不会生效</p>
</li>
<li><p>说明：传递过来的<code>props</code>属性的用法与<code>data</code>属性的用法相同</p>
</li>
<li><p>步骤:</p>
<ol>
<li>父组件确定传字面量 <code> my-sex=&quot;男&quot;</code> 还是父组件中的data属性<code>:my-age=&quot;age&quot;</code></li>
<li>在子组件中可以声明要接受的数据名称   <code>props: [&quot;mySex&quot;, &quot;myAge&quot;]</code></li>
<li>子组件的模板中即可使用父组件传递的数据了</li>
</ol>
</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;template id=<span class="string">&quot;tp1&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>my name is &#123;&#123;mySex&#125;&#125; &#123;&#123;myAge&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!-- 如果传递的是字面量 那么直接写--&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">child-copmon1</span> <span class="attr">my-sex</span>=<span class="string">&quot;男&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">child-copmon1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!-- 如果需要往子组件总传递父组件data中的数据 需要加v-bind=&quot;数据名称&quot; --&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">child-copmon1</span> <span class="attr">:my-age</span>=<span class="string">&quot;age&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">child-copmon1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">//vue实例其实也是一个组件,就相当于父组件</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">el</span>: <span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">data</span>: &#123;<span class="attr">name</span>: <span class="string">&quot;admin&quot;</span>, <span class="attr">age</span>: <span class="number">20</span>&#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">components</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="string">&quot;childCopmon1&quot;</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="attr">template</span>: <span class="string">&quot;#tp1&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        <span class="keyword">return</span> &#123;<span class="attr">name</span>: <span class="string">&quot;admin123&quot;</span>&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="comment">//一定要在子组件声明传递的值的名称</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="attr">props</span>: [<span class="string">&quot;mySex&quot;</span>, <span class="string">&quot;myAge&quot;</span>]</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    );</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h2 id="22-2-子组件到父组件通信"><a href="#22-2-子组件到父组件通信" class="headerlink" title="22.2 子组件到父组件通信"></a>22.2 子组件到父组件通信</h2><ul>
<li><p>父组件给子组件传递一个函数，由子组件调用这个函数 </p>
</li>
<li><p>步骤:</p>
<ol>
<li><p>在父组件中定义方法 parentFn</p>
</li>
<li><p>在子组件 组件引入标签 中绑定自定义事件 v-on:自定义事件名&#x3D;”父组件中的方法” &#x3D;&#x3D;&gt; @pfn&#x3D;”parentFn”</p>
</li>
<li><p>子组件中通过<code>$emit()</code>触发自定义事件事件 this.$emit(pfn,参数列表。。。)</p>
</li>
</ol>
</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;template id=<span class="string">&quot;tp1&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;doClick&quot;</span>&gt;</span>点我给父组件传值<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!-- 2. 在子组件的标签上绑定自定义事件--&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">compon1</span> @<span class="attr">pfn</span>=<span class="string">&quot;parentFun&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">compon1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">el</span>: <span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="comment">//1.在父组件声明方法(函数),指定形参接收数据</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">parentFun</span>: <span class="keyword">function</span> (<span class="params">data</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;从子组件传递过来的值:&quot;</span> + data);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">components</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">compon1</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">template</span>: <span class="string">&quot;#tp1&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="title function_">doClick</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        <span class="comment">//3. 在子组件中触发事件,传递数据</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        <span class="variable language_">this</span>.$emit(<span class="string">&quot;pfn&quot;</span>, <span class="string">&quot;hello it&quot;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="22-3-任意组件间的通信"><a href="#22-3-任意组件间的通信" class="headerlink" title="22.3 任意组件间的通信"></a>22.3 任意组件间的通信</h2><ul>
<li><strong>全局事件总线</strong></li>
<li>发布订阅(不常用)</li>
<li>Vuex(状态管理)</li>
</ul>
<hr>
<h1 id="23-Vue中的插槽slot"><a href="#23-Vue中的插槽slot" class="headerlink" title="23. Vue中的插槽slot"></a>23. Vue中的插槽slot</h1><p>插槽的作用: 让父组件可以向子组件的指定位置插入html结构,其实也是变相的实现了组件通信 <code>父--&gt;子</code></p>
<p>插槽的分类: 默认插槽   具名插槽   作用域插槽</p>
<p><code>给插槽传递的html结构尽量使用 &lt;template&gt; 包含在里面</code></p>
<h2 id="23-1-默认插槽-匿名插槽"><a href="#23-1-默认插槽-匿名插槽" class="headerlink" title="23.1 默认插槽(匿名插槽)"></a>23.1 默认插槽(匿名插槽)</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!--子组件中定义插槽        --&gt;</span><br><span class="line">        &lt;slot&gt;我是插槽中没有东西时显示的内容&lt;/slot&gt;</span><br><span class="line">        </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">        &lt;MovieList &gt;</span><br><span class="line">        &lt;template&gt;</span><br><span class="line">            &lt;!--            父组件使用插槽--&gt;</span><br><span class="line">            &lt;ul&gt;</span><br><span class="line">                &lt;li v-for=&quot;(movie,index) in movieList&quot; :key=&quot;index&quot;&gt;&#123;&#123; movie &#125;&#125;&lt;/li&gt;</span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">        &lt;/MovieList&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    import MovieList from &quot;@/components/MovieList&quot;;</span><br><span class="line"></span><br><span class="line">    export default &#123;</span><br><span class="line">        name: &quot;App&quot;,</span><br><span class="line">        components: &#123;MovieList&#125;,</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                movieList: [&quot;西游记&quot;, &quot;封神榜&quot;, &quot;三国演义&quot;, &quot;水浒传&quot;]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;&#125;,</span><br><span class="line">        mounted() &#123;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="23-2-具名插槽"><a href="#23-2-具名插槽" class="headerlink" title="23.2 具名插槽"></a>23.2 具名插槽</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;!--子组件中定义两个有 名称 的插槽        --&gt;</span><br><span class="line">        &lt;slot name=&quot;movieSlot1&quot;&gt;我是插槽中没有东西时显示的内容&lt;/slot&gt;</span><br><span class="line">        &lt;slot name=&quot;movieSlot2&quot;&gt;我是插槽中没有东西时显示的内容&lt;/slot&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">        &lt;MovieList&gt;</span><br><span class="line">            &lt;!-- 2.6.2之前的写法: slot=&quot;movieSlot1&quot;  2.6.2之后  v-slot:movieSlot1或者#movieSlot1--&gt;</span><br><span class="line">            &lt;template v-slot:movieSlot1&gt;</span><br><span class="line">                &lt;!--            父组件使用插槽--&gt;</span><br><span class="line">                &lt;ul&gt;</span><br><span class="line">                    &lt;li v-for=&quot;(movie,index) in movieList&quot; :key=&quot;index&quot;&gt;&#123;&#123; movie &#125;&#125;&lt;/li&gt;</span><br><span class="line">                &lt;/ul&gt;</span><br><span class="line">            &lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            &lt;template v-slot:movieSlot2&gt;</span><br><span class="line">                &lt;!--            父组件使用插槽--&gt;</span><br><span class="line">                &lt;ul&gt;</span><br><span class="line">                    &lt;li v-for=&quot;(movie,index) in movieList&quot; :key=&quot;index&quot;&gt;&#123;&#123; movie &#125;&#125;&lt;/li&gt;</span><br><span class="line">                &lt;/ul&gt;</span><br><span class="line">            &lt;/template&gt;</span><br><span class="line">        &lt;/MovieList&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    import MovieList from &quot;@/components/MovieList&quot;;</span><br><span class="line"></span><br><span class="line">    export default &#123;</span><br><span class="line">        name: &quot;App&quot;,</span><br><span class="line">        components: &#123;MovieList&#125;,</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                movieList: [&quot;西游记&quot;, &quot;封神榜&quot;, &quot;三国演义&quot;, &quot;水浒传&quot;]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;&#125;,</span><br><span class="line">        mounted() &#123;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="23-3-作用域插槽"><a href="#23-3-作用域插槽" class="headerlink" title="23.3 作用域插槽"></a>23.3 作用域插槽</h2><p>作用域插槽是: 插槽的使用者传递结构,而插槽中的数据却在slot的定义的组件中;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"> &lt;div&gt;</span><br><span class="line">        &lt;!--子组件中定义插槽,并且把数据传递给父组件 ,传递给父组件的是一个对象 &#123;movieList1:[&quot;西游记&quot;, &quot;封神榜&quot;, &quot;三国演义&quot;, &quot;水浒传&quot;]&#125; --&gt;</span><br><span class="line">    &lt;slot :movieList1=&quot;movieList&quot;&gt;我是插槽中没有东西时显示的内容&lt;/slot&gt;</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        name: &quot;MovieList&quot;,</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                movieList: [&quot;西游记&quot;, &quot;封神榜&quot;, &quot;三国演义&quot;, &quot;水浒传&quot;]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"> &lt;!--父组件中使用作用域插槽 --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">        &lt;MovieList&gt;</span><br><span class="line">            &lt;!-- 2.6.2之前的写法: scope=&quot;&#123;movieList1&#125;&quot;或者slot-scope=&quot;&#123;movieList1&#125;&quot;   2.6.2之后  v-slot=&quot;&#123;movieList1&#125;&quot;--&gt;</span><br><span class="line">                            &lt;!--对象解构(接收到一个对象,需要结构其属性)--&gt;</span><br><span class="line">            &lt;template v-slot=&quot;&#123;movieList1&#125;&quot;&gt;</span><br><span class="line">                &lt;ul&gt;</span><br><span class="line">                    &lt;li v-for=&quot;(movie,index) in movieList1&quot; :key=&quot;index&quot;&gt;&#123;&#123; movie &#125;&#125;&lt;/li&gt;</span><br><span class="line">                &lt;/ul&gt;</span><br><span class="line">            &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">        &lt;/MovieList&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="24-Vue中的路由"><a href="#24-Vue中的路由" class="headerlink" title="24. Vue中的路由"></a>24. Vue中的路由</h1><h2 id="24-1-路由的基本使用"><a href="#24-1-路由的基本使用" class="headerlink" title="24.1 路由的基本使用"></a>24.1 路由的基本使用</h2><blockquote>
<p>Spa页面应用理解:</p>
<ol>
<li>单页web应用(single page web application,spa)</li>
<li>整个应用只有一个完整的页面  <code>index.html</code></li>
<li>点击页面中的导航链接,不会刷新页面,只会做页面的局部更新</li>
<li>数据需要通过ajax获取</li>
</ol>
</blockquote>
<blockquote>
<p>前端路由的理解:</p>
<ol>
<li>一个路由就是一组映射关系(key—value)</li>
<li>key为路径,value是component 用于展示页面内容</li>
<li>当浏览器路径改变时,对应的组件就会显示</li>
</ol>
</blockquote>
<blockquote>
<p>安装vue-router插件:  </p>
<p>​	<code>npm install vue-router --save</code> | <code>npm install vue-router</code></p>
</blockquote>
<blockquote>
<p>在<code>src</code>目录中创建一个目录 <code>router</code>,在router中新建一个文件 <code>index.js</code></p>
</blockquote>
<blockquote>
<p>路由组件在使用的时候不需要注册,只需要在路由器中配置即可  <code>src/router/index.js</code></p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Home</span> <span class="keyword">from</span> <span class="string">&quot;@/pages/Home&quot;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">About</span> <span class="keyword">from</span> <span class="string">&quot;@/pages/About&quot;</span>;</span><br><span class="line"><span class="comment">//导入vue-router插件</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="comment">//使用vue-router插件</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueRouter</span>);</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="attr">mode</span>: <span class="string">&quot;history&quot;</span>,</span><br><span class="line">    <span class="attr">routes</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&quot;/home&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>: <span class="title class_">Home</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&quot;/about&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>: <span class="title class_">About</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>在main.js中引入编写的路由器:</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&quot;@/router/index.js&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">    <span class="title function_">beforeCreate</span>(<span class="params"></span>) &#123;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//注册自己编写的路由器</span></span><br><span class="line">    router</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#root&#x27;</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>在App组件中编写<code>路由链接</code>及其<code>路由容器</code>:</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;!--   路由链接     --&gt;</span><br><span class="line">    &lt;router-link class=&quot;nav&quot; to=&quot;/about&quot; active-class=&quot;active&quot;&gt;关于我们&lt;/router-link&gt;</span><br><span class="line">    &lt;router-link class=&quot;nav&quot; to=&quot;/home&quot; active-class=&quot;active&quot;&gt;首页Home&lt;/router-link&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;!--展示路由的容器        --&gt;</span><br><span class="line">    &lt;router-view class=&quot;rv&quot;&gt;&lt;/router-view&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        name: &quot;App&quot;,</span><br><span class="line">        components: &#123;&#125;,</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;&#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;&#125;,</span><br><span class="line">        mounted() &#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="24-2-多级-嵌套-路由"><a href="#24-2-多级-嵌套-路由" class="headerlink" title="24.2 多级(嵌套)路由"></a>24.2 多级(嵌套)路由</h2><p>注册路由 <code>src/router/index.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Home</span> <span class="keyword">from</span> <span class="string">&quot;@/pages/Home&quot;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">About</span> <span class="keyword">from</span> <span class="string">&quot;@/pages/About&quot;</span>;</span><br><span class="line"><span class="comment">//导入vue-router插件</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">About1</span> <span class="keyword">from</span> <span class="string">&quot;@/pages/About1&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">About2</span> <span class="keyword">from</span> <span class="string">&quot;@/pages/About2&quot;</span>;</span><br><span class="line"><span class="comment">//使用vue-router插件</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueRouter</span>);</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="attr">mode</span>: <span class="string">&quot;hash&quot;</span>,</span><br><span class="line">    <span class="attr">routes</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&quot;/home&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>: <span class="title class_">Home</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&quot;/about&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>: <span class="title class_">About</span>,</span><br><span class="line">            <span class="comment">//注册子路由,在父组件中一定要有&lt;router-view&gt;&lt;/router-view&gt;</span></span><br><span class="line">            <span class="attr">children</span>: [&#123;</span><br><span class="line">                <span class="attr">path</span>: <span class="string">&quot;about1&quot;</span>,<span class="comment">//嵌套的子路由,路径前面绝对不能有 /</span></span><br><span class="line">                <span class="attr">component</span>: <span class="title class_">About1</span></span><br><span class="line">            &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">path</span>: <span class="string">&quot;about2&quot;</span>,<span class="comment">//嵌套的子路由,路径前面绝对不能有 /</span></span><br><span class="line">                    <span class="attr">component</span>: <span class="title class_">About2</span></span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>编写<code>About.vue</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        关于我们</span><br><span class="line"></span><br><span class="line">        &lt;router-link class=&quot;nav&quot; to=&quot;/about/about1&quot; active-class=&quot;active&quot;&gt;关于我们1&lt;/router-link&gt;</span><br><span class="line">        &lt;router-link class=&quot;nav&quot; to=&quot;/about/about2&quot; active-class=&quot;active&quot;&gt;关于我们2&lt;/router-link&gt;</span><br><span class="line">        &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        name: &quot;About&quot;,</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h2 id="24-3-路由的重定向"><a href="#24-3-路由的重定向" class="headerlink" title="24.3 路由的重定向"></a>24.3 路由的重定向</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	path: &quot;/home&quot;,</span><br><span class="line">	component: Home,</span><br><span class="line">	//路由重定向</span><br><span class="line">	redirect:&quot;/about/about1&quot;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="24-4-路由的query参数获取"><a href="#24-4-路由的query参数获取" class="headerlink" title="24.4 路由的query参数获取"></a>24.4 路由的query参数获取</h2><blockquote>
<p>在About组件中编写路由链接: <code>About.vue</code></p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link class=&quot;nav&quot; to=&quot;/about/about1?id=10&amp;name=admin&quot; active-class=&quot;active&quot;&gt;关于我们1&lt;/router-link&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>在About1中获取参数 <code>About1.vue</code></p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        name: &quot;&quot;,</span><br><span class="line">        mounted() &#123;</span><br><span class="line">            console.log(this.$route.query.id)</span><br><span class="line">            console.log(this.$route.query.name)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="24-5-命名路由"><a href="#24-5-命名路由" class="headerlink" title="24.5 命名路由"></a>24.5 命名路由</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line"><span class="attr">mode</span>: <span class="string">&quot;hash&quot;</span>,</span><br><span class="line"><span class="attr">routes</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;home&quot;</span>,  <span class="comment">/*给路由起一个名字*/</span></span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/home&quot;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">Home</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="24-6-路由的params参数-RustFul风格"><a href="#24-6-路由的params参数-RustFul风格" class="headerlink" title="24.6 路由的params参数(RustFul风格)"></a>24.6 路由的params参数(RustFul风格)</h2><p>params参数其实就是RestFul风格的一种路由;</p>
<blockquote>
<p>注册路由 <code>@/router/index.js</code></p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/about&quot;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="title class_">About</span>,</span><br><span class="line">            <span class="attr">children</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                <span class="attr">path</span>: <span class="string">&quot;about1/:id/:name&quot;</span>,  <span class="comment">//注册RestFul风格的路由</span></span><br><span class="line">                <span class="attr">component</span>: <span class="title class_">About1</span></span><br><span class="line">            	&#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                <span class="attr">path</span>: <span class="string">&quot;about2&quot;</span>,</span><br><span class="line">                <span class="attr">component</span>: <span class="title class_">About2</span></span><br><span class="line">                &#125;</span><br><span class="line">                      ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>在About组件中进行跳转</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link <span class="keyword">class</span>=<span class="string">&quot;nav&quot;</span> to=<span class="string">&quot;/about/about1/10/admin123&quot;</span> active-<span class="keyword">class</span>=<span class="string">&quot;active&quot;</span>&gt;关于我们<span class="number">1</span>&lt;/router-link&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>在About1组件中进行接收</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&quot;About1&quot;</span>,</span><br><span class="line">        <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">params</span>.<span class="property">id</span>)</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">params</span>.<span class="property">name</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="24-7-路由的跳转模式"><a href="#24-7-路由的跳转模式" class="headerlink" title="24.7 路由的跳转模式"></a>24.7 路由的跳转模式</h2><p>默认<code>router-link</code>路由的跳转的方式为push,会不断的追加到浏览器的历史记录中;</p>
<p>我们可以使用replace方式直接进行替换,而不是push追加;</p>
<blockquote>
<p>配置路由的跳转方式为<code>replace</code></p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link replace <span class="keyword">class</span>=<span class="string">&quot;nav&quot;</span> to=<span class="string">&quot;/home&quot;</span> active-<span class="keyword">class</span>=<span class="string">&quot;active&quot;</span>&gt;首页<span class="title class_">Home</span>&lt;/router-link&gt;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="24-8-编程式路由导航"><a href="#24-8-编程式路由导航" class="headerlink" title="24.8 编程式路由导航"></a>24.8 编程式路由导航</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;pushTo&quot;</span>&gt;</span>点我进行Detail跳转push跳转<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;replaceTo&quot;</span>&gt;</span>点我进行Detail跳转replace跳转<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="comment">&lt;!--展示路由的容器        --&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">router-view</span> <span class="attr">class</span>=<span class="string">&quot;rv&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">name</span>: <span class="string">&quot;App&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">components</span>: &#123;&#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">return</span> &#123;&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">pushTo</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="comment">//push的方式进行路由跳转</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="string">&quot;/detail?id=10&quot;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">replaceTo</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">replace</span>(<span class="string">&quot;/detail?id=20&quot;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="24-9-路由的两种工作模式-Hash-History"><a href="#24-9-路由的两种工作模式-Hash-History" class="headerlink" title="24.9 路由的两种工作模式(Hash|History)"></a>24.9 路由的两种工作模式(Hash|History)</h2><p>Hash模式: #及其#之后的内容并不会发送给服务器</p>
<p>History模式:<code>mode:&quot;history&quot;</code></p>
<hr>
<h2 id="24-10-全局路由守卫"><a href="#24-10-全局路由守卫" class="headerlink" title="24.10 全局路由守卫"></a>24.10 全局路由守卫</h2><p>全局路由守卫分为 <code>全局前置路由守卫</code>和 <code>全局后置路由首位</code></p>
<p>着重了解 <code>全局前置路由守卫</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//全局前置路由守卫</span></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;......前置路由首位......&quot;</span>, to)</span><br><span class="line">    <span class="keyword">if</span> (to.<span class="property">path</span> == <span class="string">&quot;/error&quot;</span>) &#123;</span><br><span class="line">        <span class="title function_">next</span>();<span class="comment">//放行</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (to.<span class="property">params</span>.<span class="property">id</span> &gt; <span class="number">15</span>) &#123;</span><br><span class="line">        <span class="title function_">next</span>();<span class="comment">//放行</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">next</span>(<span class="string">&quot;/error&quot;</span>);<span class="comment">//导航到某个路由地址</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="24-11-动态添加路由"><a href="#24-11-动态添加路由" class="headerlink" title="24.11 动态添加路由"></a>24.11 动态添加路由</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">router.<span class="title function_">addRoute</span>(</span><br><span class="line">    <span class="string">&quot;home&quot;</span>,<span class="comment">//父路由名称</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&quot;home1&quot;</span>,</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&quot;/home/home1&quot;</span>, <span class="comment">//路由的路径,从根路由开始写</span></span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="title function_">import</span>(<span class="string">&quot;../views/Home1&quot;</span>), <span class="comment">//()=&gt;import(&quot;&quot;)是导入组件的另一种写法</span></span><br><span class="line">        <span class="attr">children</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">name</span>: <span class="string">&quot;home1a&quot;</span>,</span><br><span class="line">                <span class="attr">path</span>: <span class="string">&quot;home1a&quot;</span>,</span><br><span class="line">                <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="title function_">import</span>(<span class="string">&quot;@/views/Home1a&quot;</span>)</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">name</span>: <span class="string">&quot;home1b&quot;</span>,</span><br><span class="line">                <span class="attr">path</span>: <span class="string">&quot;home1b&quot;</span>,</span><br><span class="line">                <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="title function_">import</span>(<span class="string">&quot;@/views/Home1b&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>注意: 无论是静态路由还是动态添加路由,<code>children</code>中的<code>path</code>配置项都不能加 <code>/</code>;</p>
<hr>
<h1 id="25-前端的模块化"><a href="#25-前端的模块化" class="headerlink" title="25. 前端的模块化"></a>25. 前端的模块化</h1><h2 id="25-1-为什么需要模块化"><a href="#25-1-为什么需要模块化" class="headerlink" title="25.1 为什么需要模块化?"></a>25.1 为什么需要模块化?</h2><ul>
<li>最开始的js就是为了实现客户端验证以及一些简单的效果</li>
<li>后来，js得到重视，应用越来越广泛，前端开发的复杂度越来越高</li>
<li>旧版本的js中没有提供与模块（module）相关的内容</li>
</ul>
<h2 id="25-2-模块的概念"><a href="#25-2-模块的概念" class="headerlink" title="25.2 模块的概念"></a>25.2 模块的概念</h2><ul>
<li>在js中，一个模块就是实现特定功能的文件（js文件）</li>
<li>遵循模块的机制，想要什么功能就加载什么模块</li>
<li>模块化开发需要遵循规范</li>
</ul>
<h2 id="25-3-模块化解决的问题"><a href="#25-3-模块化解决的问题" class="headerlink" title="25.3 模块化解决的问题"></a>25.3 模块化解决的问题</h2><ul>
<li>命名冲突</li>
<li>文件依赖（加载文件）</li>
<li>模块的复用</li>
<li>统一规范和开发方式</li>
</ul>
<h2 id="25-4-模块化的历史"><a href="#25-4-模块化的历史" class="headerlink" title="25.4 模块化的历史"></a>25.4 模块化的历史</h2><ul>
<li><p>在Es6之前,javascript没有模块系统,它无法将一个大程序拆分成若干个互相依赖的小文件,然后在用简单的方法拼装起来.为了做到模块化,在Es6之前,引入了AMD(Asynchronous module definition)与CMD(common module definition)</p>
</li>
<li><p>前者典型代表是requireJS(外国人搞出来的),后者是seajs(国内阿里大神) </p>
</li>
<li><p><strong>共同点</strong>:都是对模块定义的不同规范,都是异步加载模块,并且解决文件之间的依赖重命名冲突等问题。 </p>
</li>
<li><p><strong>不同点</strong>:模块定义的方式和模块加载机制是不同的,<strong>前者AMD(requirejs)是将所有文件同时加载,一次性引入,推崇依赖前置,也就是在定义模块时要先声明其依赖的模块,加载完模块后会立马执行该模块(运行时加载)</strong></p>
</li>
<li><p>而<strong>CMD(seajs)强调的是一个文件一个模块,可按需引入,推崇依赖就近,加载完某个模块后不会立即执行,而是等遇到了require语句的时候在执行</strong> </p>
</li>
<li><p>两者的使用加载机制不同,也就导致了AMD(requirejs)模块会提前执行,用户体验好,而CMD(seajs)性能好,因为只有在需要时候才执行,在服务器端,nodejs使用的就是cmd规范,也就是需要什么包,就引入什么包,按需加入(编译时加载)</p>
</li>
<li><p>而在Es6的语言规格中引入了模块化功能,也就很好的取代了之前的commonjs和AMD规范了,成为了浏览器和服务器的通用的模块解决方案,在现今(vuejs,ReactJS)等框架大行其道中,都引入了Es6中的模块化(Module)机制,一些自动化打包工具webpack或者微信小游戏中也同样如此</p>
</li>
</ul>
<h1 id="26-Webpack"><a href="#26-Webpack" class="headerlink" title="26 Webpack"></a>26 Webpack</h1><h2 id="26-1-webpack概述"><a href="#26-1-webpack概述" class="headerlink" title="26.1 webpack概述"></a>26.1 webpack概述</h2><ul>
<li><p>webpack解决了现存模块打包器的两个痛点 </p>
<ul>
<li><strong>Code Spliting</strong> - 代码分离 按需加载 </li>
<li><strong>静态资源的模块化处理方案</strong></li>
</ul>
</li>
<li><p>webpack 是一个现代 JavaScript 应用程序的模块打包器(特点 module、 bundler)</p>
</li>
<li><p>webpack 是一个<strong>模块化方案（预编译）</strong></p>
</li>
<li><p>webpack获取具有依赖关系的模块，并生成表示这些模块的静态资源</p>
</li>
<li><p>四个核心概念：<strong>入口(entry)<strong>、</strong>输出(output)<strong>、</strong>加载器loader</strong>、<strong>插件(plugins)</strong> </p>
</li>
<li><p>webpack 和 requirejs对比</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">webpack 预编译 (在开发阶段通过webpack进行模块化处理, 最终项目上线, 就不在依赖于 webpack)</span><br><span class="line">requirejs 线上的编译( 代码运行是需要依赖与 requirejs 的 )</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="26-2-webpack与模块"><a href="#26-2-webpack与模块" class="headerlink" title="26.2 webpack与模块"></a>26.2 webpack与模块</h2><ul>
<li>在webpack看来：所有的<strong>静态资源都是模块</strong></li>
<li>webpack 模块能够识别以下等形式的模块之间的依赖</li>
</ul>
<h2 id="26-3-webpack打包"><a href="#26-3-webpack打包" class="headerlink" title="26.3 webpack打包"></a>26.3 webpack打包</h2><p>vue-cli集成了webpack,我们可以不用去了解webpack复杂的打包过程</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue init webpack pro01  //使用vue-cli脚手架+webpack打包工具构建项目</span><br></pre></td></tr></table></figure>

<h1 id="27-Es6中的export"><a href="#27-Es6中的export" class="headerlink" title="27. Es6中的export"></a>27. Es6中的export</h1><ul>
<li><p>export default 向外暴露的成员，可以使用任意的变量来接收</p>
</li>
<li><p>在一个模块中，export default只允许向外暴露一次</p>
</li>
<li><p>在一个模块中，可以同时使用export default 和 export向外暴露成员</p>
</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//test.vue</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">	address：<span class="string">&#x27;深圳&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">var</span> title = <span class="string">&#x27;星星&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">var</span> zzz = <span class="string">&#x27;hhh&#x27;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//mian.vue</span><br><span class="line">import hahahah , &#123;title as title123 , zzz&#125; from &#x27;./test.vue&#x27;</span><br><span class="line"></span><br><span class="line">console.log(hahahah)</span><br><span class="line">console.log(title123 + &quot;6666&quot; + zzz)</span><br></pre></td></tr></table></figure>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">打印结果：</span><br><span class="line"><span class="attr">address</span>:‘深圳’</span><br><span class="line">星星6666hhh</span><br></pre></td></tr></table></figure>

<ul>
<li>使用export向外暴露成员，只能用{}的形式来接收，这种形式，叫做【按需导出】</li>
<li>export可以向外暴露多个成员，同时，如果某些成员，我们在import的时候不需要，则可以不在{}中定义</li>
<li>使用export导出的成员必须严格按照导出时候的名称，来使用{}按需接收；</li>
<li>如果使用export按需导出的成员想换名称，可以用as进行替换</li>
</ul>
<hr>
<h1 id="28-Vue中的全局事件总线"><a href="#28-Vue中的全局事件总线" class="headerlink" title="28. Vue中的全局事件总线"></a>28. Vue中的全局事件总线</h1><p>​	在Vue开发中会遇到大量的组件之间共享数据的情形，针对不同的情形，Vue有相对应的解决方案。比如，父组件向子组件传值可以使用<code>props</code>，复杂项目中不同模块之间传值可以使用<code>Vuex</code>。</p>
<p>​	但是，对于一些简单的项目里的非父子组件来说，它们一方面不适用props，另一方面又没有必要使用Vuex，针对这种情形可以使用中央事件总线（Event Bus）来解决问题。 </p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">    <span class="comment">//注册全局事件总线的时候,一定在beforeCreate中</span></span><br><span class="line">    <span class="title function_">beforeCreate</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$bus</span> = <span class="variable language_">this</span>;<span class="comment">//安装全局事件总线</span></span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>在组件TodoItem中发送数据(触发事件)</p>
</blockquote>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;TodoItem&quot;</span>,</span><br><span class="line">    <span class="attr">props</span>: [<span class="string">&quot;toDoObj&quot;</span>],</span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">        <span class="title function_">delTodo</span>(<span class="params">todoId</span>) &#123;</span><br><span class="line">            <span class="comment">// this.$emit(&quot;delTodo&quot;, todoId)</span></span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$bus</span>.$emit(<span class="string">&quot;delTodo&quot;</span>,todoId)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p> 然后就可以在组件App中接收了</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="comment">// 自定义事件的回调函数       </span></span><br><span class="line">    <span class="title function_">addTodo</span>(<span class="params">todoObj</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">todoArray</span>.<span class="title function_">unshift</span>(todoObj)</span><br><span class="line">    &#125;,</span><br><span class="line">        <span class="title function_">delTodo</span>(<span class="params">toDoId</span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">todoArray</span> = <span class="variable language_">this</span>.<span class="property">todoArray</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">todo</span> =&gt;</span> todo.<span class="property">id</span> != toDoId)</span><br><span class="line">        &#125;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">//注册事件一定要在组件挂载之后才能注册</span></span><br><span class="line">    <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">//给全局事件总线绑定事件</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">$bus</span>.$on(<span class="string">&quot;delTodo&quot;</span>, <span class="variable language_">this</span>.<span class="property">delTodo</span>)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="29-浏览器中的数据存储技术"><a href="#29-浏览器中的数据存储技术" class="headerlink" title="29. 浏览器中的数据存储技术"></a>29. 浏览器中的数据存储技术</h1><ul>
<li><p>cookie</p>
<p>浏览器端的数据存储技术,以文本的形式存放,可以设置有效时间</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">cookie</span> = <span class="string">&quot;myname=admin&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>sessionStorage</strong></p>
<p>只在本次会话中有效,浏览器关闭(新开标签页)就会失效;</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (sessionStorage.<span class="title function_">getItem</span>(<span class="string">&quot;myname&quot;</span>)) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;获取到sessionStorage中的数据:&quot;</span> + sessionStorage.<span class="title function_">getItem</span>(<span class="string">&quot;myname&quot;</span>))</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;开始给sessionStorage添加数据&quot;</span>)</span><br><span class="line">    sessionStorage.<span class="title function_">setItem</span>(<span class="string">&quot;myname&quot;</span>, <span class="string">&quot;admin&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>localStorage</strong></p>
<p>只要不是手动清除,永久有效</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;myname&quot;</span>)) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;获取到localStorage中的数据:&quot;</span> + <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;myname&quot;</span>))</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;开始给localStorage添加数据&quot;</span>)</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;myname&quot;</span>, <span class="string">&quot;admin&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<hr>
<h1 id="30-Vuex状态管理"><a href="#30-Vuex状态管理" class="headerlink" title="30. Vuex状态管理"></a>30. Vuex状态管理</h1><h2 id="30-1-什么是Vuex"><a href="#30-1-什么是Vuex" class="headerlink" title="30.1 什么是Vuex?"></a>30.1 什么是Vuex?</h2><p>专门在Vue中实现集中式状态(数据)管理的插件,对Vue中多个组件共享状态(数据)进行集中式管理(读&#x2F;写),也是一种组件的通信方式,且适用于任何组件之间进行通信;</p>
<hr>
<h2 id="30-2-什么时候使用Vuex"><a href="#30-2-什么时候使用Vuex" class="headerlink" title="30.2 什么时候使用Vuex?"></a>30.2 什么时候使用Vuex?</h2><ul>
<li>多个组件依赖同一个状态</li>
<li>来自不同组件的行为需要<code>变更同一状态</code></li>
</ul>
<hr>
<h2 id="30-3-Vuex的工作流程"><a href="#30-3-Vuex的工作流程" class="headerlink" title="30.3 Vuex的工作流程"></a>30.3 Vuex的工作流程</h2><p><code>VueComponent</code>—-&gt;(dispatch)—-&gt;<code>Actions</code>—-&gt;(commit)—&gt;<code>Mutations</code>–(mutate)–&gt;<code>State</code>–(render)–&gt;<code>VueComponent</code></p>
<ol>
<li>组件Vue Component通过dispatch来调用actions提供的方法</li>
<li>而actions除了可以和api打交道外，还可以通过commit来调mutations提供的方法</li>
<li>最后mutaions将数据保存到state中</li>
<li>当然，Vue Components还以通过getters提供的方法获取state中的数据</li>
</ol>
<ul>
<li>state (类似存储全局变量的数据)</li>
<li>getters (提供用来获取state数据的方法)</li>
<li>actions (提供跟后台接口打交道的方法，并调用mutations提供的方法)</li>
<li>mutations (提供存储设置state数据的方法)</li>
</ul>
<hr>
<h2 id="30-4-Vuex的初级使用"><a href="#30-4-Vuex的初级使用" class="headerlink" title="30.4 Vuex的初级使用"></a>30.4 Vuex的初级使用</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vuex --save  //安装vuex</span><br></pre></td></tr></table></figure>

<p><strong>main.js</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>;</span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>) <span class="comment">//引用Vuex插件,并把store注册给vue实例,则vue实例和所有的组件中都可以访问到$store</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    <span class="attr">state</span>: &#123;</span><br><span class="line">        <span class="attr">a</span>: <span class="number">10</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">    <span class="title function_">beforeCreate</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$bus</span> = <span class="variable language_">this</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    router,</span><br><span class="line">    store<span class="comment">//注册vuex</span></span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#root&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p><strong>组件中访问共享状态:</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$</span><span class="language-bash">store.state.a; //访问共享数据(不建议这种方式)</span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">store.state.a=20;//改变共享状态(不建议这种方式)</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="30-5-Vuex的商业使用规范"><a href="#30-5-Vuex的商业使用规范" class="headerlink" title="30.5 Vuex的商业使用规范"></a>30.5 Vuex的商业使用规范</h2><p>在<code>src</code>目录中创建<code>store</code>目录,在<code>store</code>目录中再创建<code>index.js</code></p>
<p><code>index.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>;</span><br><span class="line"><span class="comment">//使用插件</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//共享的状态数据</span></span><br><span class="line"><span class="keyword">const</span> state = &#123;</span><br><span class="line">    <span class="attr">a</span>: <span class="number">10</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//向外提供的action操作</span></span><br><span class="line"><span class="keyword">const</span> actions = &#123;</span><br><span class="line">    <span class="comment">//context就是一个miniStore(迷你版的store)</span></span><br><span class="line">    <span class="title function_">change</span>(<span class="params">context, value</span>) &#123;</span><br><span class="line">        context.<span class="title function_">commit</span>(<span class="string">&quot;CHANGE&quot;</span>, value)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//操作state的接口</span></span><br><span class="line"><span class="keyword">const</span> mutations = &#123;</span><br><span class="line">    <span class="title function_">CHANGE</span>(<span class="params">state, value</span>) &#123;</span><br><span class="line">        state.<span class="property">a</span> = value</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建store</span></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">        state,</span><br><span class="line">        actions,</span><br><span class="line">        mutations</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br></pre></td></tr></table></figure>

<p>组件中就可以使用一下方式改变store中存储的共享状态(数据)了:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//通过调用action动作修改</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">dispatch</span>(<span class="string">&quot;change&quot;</span>, <span class="number">200</span>)</span><br><span class="line"><span class="comment">//或者通过调用mutation修改(不建议)</span></span><br><span class="line"><span class="comment">//this.$store.commit(&quot;CHANGE&quot;,300)</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="30-6-getters配置项的使用"><a href="#30-6-getters配置项的使用" class="headerlink" title="30.6 getters配置项的使用"></a>30.6 getters配置项的使用</h2><p>getters配置项就是给state中的数据进行加工用的:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">getters</span>: &#123;</span><br><span class="line">    <span class="attr">bigA</span>: <span class="function"><span class="params">state</span> =&gt;</span> state.<span class="property">a</span> + <span class="string">&quot;bbbb&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在组件中进行使用:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123; $store.<span class="property">getters</span>.<span class="property">bigA</span> &#125;&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="31-devDependencies与dependencies"><a href="#31-devDependencies与dependencies" class="headerlink" title="31. devDependencies与dependencies"></a>31. devDependencies与dependencies</h1><ul>
<li>devDependencies用于本地环境开发时候。 <code>npm install xxx --save-dev</code></li>
<li>dependencies用户发布环境(生产环境) <code>npm install xxx --save</code></li>
<li>devDependencies是只会在开发环境下依赖的模块，生产环境不会被打入包内。</li>
<li>而dependencies依赖的包不仅开发环境能使用，生产环境也能使用。其实这句话是重点，按照这个观念很容易决定安装模块时是使用<code>--save</code>还是<code>--save-dev</code></li>
<li><strong>~<strong>表示末尾最大，</strong>^</strong>表示中间最大，*****表示第一个最大</li>
</ul>
<hr>
<h1 id="32-Vue中的UI组件库"><a href="#32-Vue中的UI组件库" class="headerlink" title="32. Vue中的UI组件库"></a>32. Vue中的UI组件库</h1><h2 id="32-1-移动端UI组件库"><a href="#32-1-移动端UI组件库" class="headerlink" title="32.1 移动端UI组件库"></a>32.1 移动端UI组件库</h2><ul>
<li><p>Vant</p>
</li>
<li><p>Cube UI</p>
</li>
<li><p>Mint UI</p>
</li>
</ul>
<hr>
<h2 id="32-2-PC端UI组件库"><a href="#32-2-PC端UI组件库" class="headerlink" title="32.2 PC端UI组件库"></a>32.2 PC端UI组件库</h2><ul>
<li>Element-ui</li>
<li>IView-ui</li>
</ul>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">Yang Shiyu</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://yangshiyu52.github.io/2021/12/20/qian-duan-vue/">https://yangshiyu52.github.io/2021/12/20/qian-duan-vue/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">Yang Shiyu</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            <span class="chip bg-color">无标签</span>
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2022/01/19/qian-duan-jdbc-lian-jie-chi/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/2.jpg" class="responsive-img" alt="jdbc连接池">
                        
                        <span class="card-title">jdbc连接池</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2022-01-19
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E5%89%8D%E7%AB%AF/" class="post-category">
                                    前端
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2021/12/13/qian-duan-jquery/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/10.jpg" class="responsive-img" alt="jquery">
                        
                        <span class="card-title">jquery</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2021-12-13
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E5%89%8D%E7%AB%AF/" class="post-category">
                                    前端
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
    <div class="container row center-align" style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2021-2022</span>
            
            <span id="year">2021</span>
            <a href="/about" target="_blank">Yang Shiyu</a>
            
            <br>
            
            &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                class="white-color">519.8k</span>&nbsp;字
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <span id="sitetime">载入运行时间...</span>
            <script>
                function siteTime() {
                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;
                    var today = new Date();
                    var startYear = "2021";
                    var startMonth = "1";
                    var startDate = "20";
                    var startHour = "0";
                    var startMinute = "0";
                    var startSecond = "0";
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth() + 1;
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();
                    var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                    var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                    var diff = t2 - t1;
                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor((diff / days) - diffYears * 365);
                    var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                    var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) /
                        minutes);
                    var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours -
                        diffMinutes * minutes) / seconds);
                    if (startYear == todayYear) {
                        document.getElementById("year").innerHTML = todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffDays + " 天 " + diffHours +
                            " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    } else {
                        document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffYears + " 年 " + diffDays +
                            " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    }
                }
                setInterval(siteTime, 1000);
            </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/yangshiyu52" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:706425658@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=706425658" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 706425658" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

	
    
    <script type="text/javascript" color="0,0,255"
        pointColor="0,0,255" opacity='0.7'
        zIndex="-1" count="99"
        src="/libs/background/canvas-nest.js"></script>
    

    
    
    <script type="text/javascript" size="150" alpha='0.6'
        zIndex="-1" src="/libs/background/ribbon-refresh.min.js" async="async"></script>
    

    
    <script type="text/javascript" src="/libs/background/ribbon-dynamic.js" async="async"></script>
    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
